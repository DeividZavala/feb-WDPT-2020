(this["webpackJsonpironbnb-front"]=this["webpackJsonpironbnb-front"]||[]).push([[0],{38:function(e,t,a){e.exports=a(69)},43:function(e,t,a){},48:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),o=(a(43),a(3)),i=a(4),s=a(5),u=a(6),m=a(7),d=a(8),p=a(2),h=function(e){var t=e.user,a=e.logout;return r.a.createElement("header",null,r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":"true"},t._id?r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.b,{to:"/"},"Ironbnb")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/property/new"},"New Property")))):null,r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},t._id?r.a.createElement("li",null,r.a.createElement(p.b,{to:"/profile"},r.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},r.a.createElement("div",{className:"uk-width-auto"},r.a.createElement("img",{className:"uk-border-circle",width:"40",height:"40",alt:t.name,src:t.profile_picture})),r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("div",{className:"uk-margin-remove-bottom"},t.name)))),r.a.createElement("div",{className:"uk-navbar-dropdown"},r.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},r.a.createElement("li",{onClick:a},"Logout")))):r.a.createElement("li",null,r.a.createElement(p.b,{to:"/login"},"Login"))))))},v=(a(48),a(13)),k=a(1),E=a.n(k),g="production.com";E.a.defaults.withCredentials=!0;var f=function(e){return E.a.post("".concat(g,"/users/login"),e)},b=function(e){return E.a.post("".concat(g,"/users/signup"),e)},y=function(){return E.a.post("".concat(g,"/users/logout"))},N=Object(n.createContext)(),x=a(14),C=a.n(x),w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"check",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top-right";C.a.notification({message:"<span uk-icon='icon: ".concat(a,"'></span> ").concat(e),status:t,pos:n})},O=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e.handleChange=function(t){var a=e.state.user;a=Object(i.a)({},a,Object(o.a)({},t.target.name,t.target.value)),e.setState({user:a})},e.handleSubmit=function(t){t.preventDefault();var a="/login"===e.props.location.pathname,n=e.context.setUser,r=e.state.user,c=a?f:b,l=e.props.history,o=a?"/":"/login";c(r).then((function(e){if(a){var t=e.data.user;localStorage.setItem("user",JSON.stringify(t)),n(t)}l.push(o)})).catch((function(e){w(e.response.data.msg,"danger","close")}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e="/login"===this.props.location.pathname;return r.a.createElement("section",{className:"uk-section"},r.a.createElement("div",{className:"uk-container uk-flex uk-flex-center"},r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("h3",null,e?"Login":"Signup"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"uk-width-1-1 uk-form-stacked uk-flex uk-flex-center uk-flex-column"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Email:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: mail"}),r.a.createElement("input",{onChange:this.handleChange,id:"email",name:"email",className:"uk-input",type:"email",required:!0})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"password"},"Password:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:this.handleChange,id:"password",name:"password",className:"uk-input",type:"password",required:!0})))),e?r.a.createElement("div",{className:"uk-text-meta"},"A\xfan no tienes cuenta?"," ",r.a.createElement(p.b,{className:"uk-text-primary",to:"/signup"},"Crear cuenta")):null,r.a.createElement("button",{className:"uk-button uk-button-primary"},e?"Login":"Signup")))))}}]),a}(n.Component);O.contextType=N;var j=O,S=function(e){var t=e.images;return r.a.createElement("div",{className:"uk-position-relative uk-visible-toggle uk-light","uk-slideshow":"animation: fade;ratio: 2:2;max-height: 500"},r.a.createElement("ul",{className:"uk-slideshow-items"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("img",{src:e,alt:"","uk-cover":"true"}))}))),r.a.createElement("a",{className:"uk-position-center-left uk-position-small uk-hidden-hover",href:"#","uk-slidenav-previous":"true","uk-slideshow-item":"previous"}),r.a.createElement("a",{className:"uk-position-center-right uk-position-small uk-hidden-hover",href:"#","uk-slidenav-next":"true","uk-slideshow-item":"next"}),r.a.createElement("div",{className:"uk-position-bottom-center uk-position-small"},r.a.createElement("ul",{className:"uk-dotnav"},t.map((function(e,t){return r.a.createElement("li",{key:t,"uk-slideshow-item":t},r.a.createElement("a",{href:"#"},"Item 1"))})))))},P=a(9),_=a.n(P),R=a(36),I=a.n(R);a(67);_.a.extend(I.a);var D=function(e){var t=e._id,a=e.images,n=void 0===a?[]:a,c=e.title,l=e.description,o=e.price,i=e.capacity,s=e.createdAt,u=e.owner,m=e.userId,d=e.isDemo,h=void 0!==d&&d,v=m===(null===u||void 0===u?void 0:u._id);return r.a.createElement("div",{className:"uk-margin-small-bottom"},r.a.createElement("div",{className:"uk-card uk-card-default"},h?null:r.a.createElement("div",{className:"uk-card-header uk-padding-small"},r.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},r.a.createElement("div",{className:"uk-width-auto"},r.a.createElement("img",{className:"uk-border-circle",width:"40",height:"40",alt:null===u||void 0===u?void 0:u.name,src:null===u||void 0===u?void 0:u.profile_picture})),r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom"},null===u||void 0===u?void 0:u.name),r.a.createElement("p",{className:"uk-text-meta uk-margin-remove-top"},"Propietario")),v?r.a.createElement("div",null,r.a.createElement(p.b,{to:"/property/".concat(t),className:"uk-button uk-button-text"},"Editar")):null)),r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement(S,{images:n})),r.a.createElement("div",{className:"uk-card-body uk-padding-small"},r.a.createElement("h3",{className:"uk-card-title uk-text-center"},r.a.createElement(p.b,{to:"/property/".concat(t),className:"uk-button uk-button-text uk-text-lead"},c)),r.a.createElement("div",null,"Precio por noche: ",o),r.a.createElement("div",null,"Capacidad: ",i," personas"),r.a.createElement("div",null,"Creada ",_()(s).locale("es").fromNow()),r.a.createElement("p",{className:"uk-text-break"},l),r.a.createElement("div",{className:"uk-text-center"},h?null:r.a.createElement(p.b,{to:"/reservate/".concat(t),className:"uk-button uk-button-primary"},"Reservar")))))};E.a.defaults.withCredentials=!0;var U=function(e){return E.a.post("".concat(g,"/properties"),e.property)},M=function(e){return E.a.patch("".concat(g,"/properties/").concat(e.id),e.property)},A=function(e){return E.a.delete("".concat(g,"/properties/").concat(e))},L=function(e){return e.reduce((function(e,t){return Object(i.a)({},e,Object(o.a)({},t._id,t))}),{})},Y=function(e){return Object.values(e)},T=function(e,t){return delete e[t],e},F=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.state,t=e.properties,a=e.user,n=this.context.setProperties,r=this.props.history;a._id?Y(t).length<1&&E.a.get("".concat(g,"/properties")).then((function(e){var t=e.data.result,a=L(t);n(a)})):r.push("/login")}},{key:"render",value:function(){var e=this.context.state,t=e.properties,a=e.user;return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("div",{className:"uk-grid uk-grid-small uk-grid-match uk-child-width-1-3@l  uk-child-width-1-3@m uk-child-width-1-1@s"},Y(t).map((function(e,t){return r.a.createElement(D,Object.assign({key:t},e,{userId:a._id}))})))))}}]),a}(n.Component);F.contextType=N;var J=F,W=a(17),B=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,c=e.handleChange,l=e.placeholder,o=e.value,i=void 0===o?"":o,s=Object(W.a)(e,["name","type","handleChange","placeholder","value"]);return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label uk-text-capitalize",htmlFor:t},t,":"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("input",Object.assign({onChange:c,name:t,className:"uk-input",id:t,type:n,value:i,placeholder:l},s))))},G=function(e){var t=e.name,a=e.handleChange,n=e.hint,c=e.value;return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label uk-text-capitalize",htmlFor:t},t," ",n&&"(".concat(n,")"),":"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("textarea",{onChange:a,className:"uk-textarea",name:t,id:t,cols:"30",rows:"5",value:c})))},q=function(e){var t,a=e.handleSubmit,n=e.handleChange,c=e.handleImagesChange,l=e.property,o=l.description&&l.description.length||0;return r.a.createElement("div",null,r.a.createElement("form",{className:"uk-width-1-1",onSubmit:a},r.a.createElement(B,{name:"title",value:l.title,placeholder:"property name",handleChange:n}),r.a.createElement(B,{name:"price",value:l.price,placeholder:"price per night",handleChange:n}),r.a.createElement(B,{name:"address",value:l.address,placeholder:"property address",handleChange:n}),r.a.createElement(B,{name:"capacity",value:l.capacity,placeholder:"property capacity",handleChange:n}),r.a.createElement(G,{name:"description",value:l.description,hint:"".concat(o,"/50"),handleChange:n}),r.a.createElement(G,{name:"images",value:null===(t=l.images)||void 0===t?void 0:t.join(","),handleChange:c,hint:"separate multiple images by commas"}),r.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary"},"Create property")))},z=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={property:{}},e.handleChange=function(t){var a=e.state.property;a=Object(i.a)({},a,Object(o.a)({},t.target.name,t.target.value)),e.setState({property:a})},e.handleImagesChange=function(t){var a=e.state.property;a=Object(i.a)({},a,Object(o.a)({},t.target.name,t.target.value.split(","))),e.setState({property:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.property,n=e.context.addProperty,r=e.props.history,c=e.props.match.params.id;(c?M:U)(c?{property:a,id:c}:{property:a}).then((function(e){var t=e.data.result;n(t),r.push("/")})).catch((function(e){Object.values(e.response.data.errors).map((function(e){return w(e,"danger","close")}))}))},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;t&&function(e){return E.a.get("".concat(g,"/properties/").concat(e))}(t).then((function(t){var a=t.data.result;e.setState({property:a})}))}},{key:"render",value:function(){var e=this.state.property;return r.a.createElement("section",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("h3",null,"Create property"),r.a.createElement("div",{className:"uk-grid uk-child-width-1-2"},r.a.createElement(q,{property:e,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleImagesChange:this.handleImagesChange}),r.a.createElement("div",null,r.a.createElement(D,Object.assign({},e,{isDemo:!0}))))))}}]),a}(n.Component);z.contextType=N;var $=z;E.a.defaults.withCredentials=!0;var H=function(e){return E.a.post("".concat(g,"/reservations"),e)},K=function(e){return E.a.patch("".concat(g,"/reservations/").concat(e._id),e)},Q=function(e){return E.a.delete("".concat(g,"/reservations/").concat(e))},V=function(e){var t=e.id,a=e.message,n=e.handleClick;return r.a.createElement("div",{id:"remove-".concat(t),"uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},r.a.createElement("p",null,a),r.a.createElement("p",{className:"uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close",type:"button"},"Cancel"),r.a.createElement("button",{onClick:function(){return n(t)},className:"uk-button uk-button-danger",type:"button"},"Delete"))))},X=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reservation:{}},e.handleChange=function(t){var a=e.state.reservation;a=Object(i.a)({},a,Object(o.a)({},t.target.name,t.target.value)),e.setState({reservation:a})},e.handleSubmit=function(){var t=e.state.reservation,a=e.props.property;H(Object(i.a)({},t,{property:a})).then((function(){w("Reservation confirmed!","success"),C.a.modal("#reservate-".concat(a)).hide()})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.property,n=e.isEditing,c=this.state.reservation;return r.a.createElement("div",{id:"reservate-".concat(n?this.props.reservation:a),"uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},r.a.createElement("h2",{className:"uk-modal-title"},"Reservate ",t),r.a.createElement("form",null,r.a.createElement(B,{name:"guest_number",type:"number",min:"1",value:c.guest_number,handleChange:this.handleChange,placeholder:"Guest number"}),r.a.createElement(B,{name:"checkin",handleChange:this.handleChange,type:"date",value:c.checkin,placeholder:"Checkin Date"}),r.a.createElement(B,{name:"checkout",type:"date",value:c.checkout,handleChange:this.handleChange,placeholder:"Checkout Date"})),r.a.createElement("p",{className:"uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close",type:"button"},"Cancel"),r.a.createElement("button",{onClick:this.handleSubmit,className:"uk-button uk-button-primary",type:"button"},"Save"))))}}]),a}(n.Component);X.contextType=N;var Z=X,ee=function(e){var t=e._id,a=e.images,n=e.title,c=e.price,l=e.capacity,o=e.deleteItem,i=e.isReservation,s=e.guest_number,u=e.property,m=e.checkin,d=e.checkout;return r.a.createElement("div",{className:"uk-margin-medium-bottom uk-card uk-card-default"},r.a.createElement(Z,{isEditing:!0,reservation:t}),r.a.createElement(V,{handleClick:o,id:t,message:i?"Delete reservation in ".concat(u.title):"Delete ".concat(n,"?")}),r.a.createElement("div",{className:"uk-grid"},r.a.createElement("div",{className:"uk-width-1-3"},r.a.createElement(S,{images:i?u.images:a})),r.a.createElement("div",{className:"uk-width-expand uk-padding uk-padding-remove-top uk-padding-remove-bottom uk-flex uk-flex-column uk-flex-around"},r.a.createElement("div",{className:"simple-card-title uk-text-lead uk-margin-small-top uk-margin-small-bottom"},i?u.title:n),i?r.a.createElement("div",null,r.a.createElement("div",null,"Guest number: ",s),r.a.createElement("div",null,"Checkin date: ",_()(m).locale("es").format("LL")),r.a.createElement("div",null,"Checkout date: ",_()(d).locale("es").format("LL"))):r.a.createElement("div",null,r.a.createElement("div",null,"Precio por noche: ",c),r.a.createElement("div",null,"Capacidad de la propiedad: ",l)),r.a.createElement("div",{className:"uk-flex uk-flex-around"},i?r.a.createElement(p.b,{className:"uk-button uk-button-default",to:"/reservate/".concat(t,"/edit")},r.a.createElement("span",{"uk-icon":"icon:pencil"})," Editar"):r.a.createElement(p.b,{to:"/property/".concat(t),className:"uk-button uk-button-default"},r.a.createElement("span",{"uk-icon":"icon:pencil"})," Editar"),r.a.createElement("button",{className:"uk-button uk-button-danger","uk-toggle":"target: #remove-".concat(t)},r.a.createElement("span",{"uk-icon":"icon:trash"})," Borrar")))))},te=a(16),ae=a.n(te);_.a.extend(ae.a);var ne=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).removeProperty=function(t){var a=e.context.state,n=a.properties,r=a.userProperties,c=e.context,l=c.setProperties,o=c.setUserProperties;A(t).then((function(e){var t=e.data.result,a=T(n,t._id),c=T(r,t._id);l(a),o(c),C.a.modal("#remove-".concat(t._id)).hide()}))},e.removeReservation=function(t){var a=e.context.state.userReservations,n=e.context.setUserReservations;Q(t).then((function(e){var t=e.data.result,r=T(a,t._id);n(r),C.a.modal("#remove-".concat(t._id)).hide()}))},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e,t=this.context.state,a=t.user._id,n=t.userProperties;if(Y(n).length<1){var r=this.context,c=r.setUserProperties,l=r.setUserReservations;(e=a,E.a.get("".concat(g,"/properties?owner=").concat(e))).then((function(e){var t=e.data.result,a=L(t);c(a)})),E.a.get("".concat(g,"/reservations")).then((function(e){var t=e.data.result,a=L(t);l(a)}))}}},{key:"render",value:function(){var e=this,t=this.context.state,a=t.user,n=t.userProperties,c=t.userReservations;return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("div",{className:"uk-grid uk-grid-small uk-grid-match"},r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:"uk-border-circle",src:a.profile_picture})),r.a.createElement("p",{className:"uk-text-center uk-text-lead"},a.name),r.a.createElement("p",{className:"uk-text-center"},"Miembro desde el"," ",_()(a.createdAt).locale("es").format("LL")))),r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("div",{className:"uk-padding-large uk-padding-remove-top uk-padding-remove-bottom"},r.a.createElement("ul",{className:"uk-tab uk-child-width-expand","uk-switcher":"connect:#menu"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Mis propiedades")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Mis Reservaciones"))),r.a.createElement("ul",{id:"menu",className:"uk-switcher uk-margin uk-height-large","uk-overflow-auto":"true"},r.a.createElement("li",{className:""},Y(n).map((function(t,a){return r.a.createElement(ee,Object.assign({key:a,deleteItem:e.removeProperty},t))}))),r.a.createElement("li",null,Y(c).map((function(t,a){return r.a.createElement(ee,Object.assign({key:a,isReservation:!0,deleteItem:e.removeReservation},t))})))))))))}}]),a}(n.Component);ne.contextType=N;var re=ne;_.a.extend(ae.a);var ce=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reservation:{},propertyInfo:{}},e.handleChange=function(t){var a=e.state.reservation;a=Object(i.a)({},a,Object(o.a)({},t.target.name,t.target.value)),e.setState({reservation:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.history,n=e.props.location.pathname.includes("edit"),r=e.state,c=r.reservation,l=r.propertyInfo._id;(n?K:H)(Object(i.a)({},c,{property:l})).then((function(){w("Reservation confirmed!","success"),a.push("/profile")})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.property_id,a=e.id;if(a){var n=this.context.state.userReservations[a],r=n.property,c=Object(W.a)(n,["property"]);this.setState({propertyInfo:r,reservation:c})}else{var l=this.context.state.properties[t];this.setState({propertyInfo:l})}}},{key:"render",value:function(){var e=this.state,t=e.reservation,a=e.propertyInfo;return r.a.createElement("section",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("h2",{className:""},"Reservate ",a.title),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B,{name:"guest_number",type:"number",min:"1",value:t.guest_number,handleChange:this.handleChange,placeholder:"Guest number"}),r.a.createElement(B,{name:"checkin",handleChange:this.handleChange,type:"date",value:_()(t.checkin).format("YYYY-MM-DD"),placeholder:"Checkin Date"}),r.a.createElement(B,{name:"checkout",type:"date",value:_()(t.checkout).format("YYYY-MM-DD"),handleChange:this.handleChange,placeholder:"Checkout Date"}),r.a.createElement("button",{type:"submit",className:"uk-button uk-button-primary"},"Reservate"))))}}]),a}(n.Component);ce.contextType=N;var le=ce,oe=function(){return r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:J}),r.a.createElement(v.a,{exact:!0,path:"/login",component:j}),r.a.createElement(v.a,{exact:!0,path:"/signup",component:j}),r.a.createElement(v.a,{exact:!0,path:"/profile",component:re}),r.a.createElement(v.a,{exact:!0,path:"/property/new",component:$}),r.a.createElement(v.a,{exact:!0,path:"/property/:id",component:$}),r.a.createElement(v.a,{exact:!0,path:"/reservate/:property_id",component:le}),r.a.createElement(v.a,{exact:!0,path:"/reservate/:id/edit",component:le}))},ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:JSON.parse(localStorage.getItem("user"))||{},properties:{},userProperties:{},userReservations:{}},e.setUser=function(t){e.setState({user:t})},e.setProperties=function(t){e.setState({properties:t})},e.setUserProperties=function(t){e.setState({userProperties:t})},e.setUserReservations=function(t){e.setState({userReservations:t})},e.addProperty=function(t){var a=e.state.properties;a=Object(i.a)(Object(o.a)({},t._id,t),a),e.setState({properties:a})},e.logout=function(){var t=e.props.history;y().then((function(){localStorage.removeItem("user"),e.setState({user:{}}),t.push("/login")}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=this.setUser,a=this.logout,n=this.setProperties,c=this.addProperty,l=this.setUserProperties,o=this.setUserReservations;return r.a.createElement(N.Provider,{value:{state:e,setUser:t,logout:a,setProperties:n,addProperty:c,setUserProperties:l,setUserReservations:o}},r.a.createElement("div",{className:"App"},r.a.createElement(h,{user:e.user,logout:a}),r.a.createElement(oe,null)))}}]),a}(n.Component),se=Object(v.f)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(37),me=a.n(ue);a(68);C.a.use(me.a);var de=function(){return r.a.createElement(p.a,null,r.a.createElement(se,null))};l.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.fc9392e8.chunk.js.map